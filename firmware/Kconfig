mainmenu "Korra Firmware application"

choice
    prompt "Kind of application"

config APP_KIND_KEEPER
    bool "keeper"

config APP_KIND_POT
    bool "pot"

endchoice

config APP_NAME
    string
    default "Keeper" if APP_KIND_KEEPER
    default "Pot" if APP_KIND_POT

config DATA_COLLECTION_INTERVAL_SECONDS
    int "Interval for collecting sensor data in seconds"
    default 60

config BOARD_HAS_CELLULAR
    bool "Whether to board has Cellular"
    default n
    select BOARD_HAS_INTERNET

config BOARD_HAS_ETHERNET
    bool "Whether to board has Ethernet"
    default n
    select BOARD_HAS_INTERNET
    select NET_ARP

config BOARD_HAS_WIFI
    bool "Whether to board has WiFi"
    default n
    select BOARD_HAS_INTERNET
    select WIFI
    select WIFI_ESP32 if SOC_SERIES_ESP32S3
    select WIFI_NRF70 if BOARD_NRF7002DK
    select WIFI_NXP if SOC_SERIES_RW6XX
    select NET_CONNECTION_MANAGER_CONNECTIVITY_WIFI_MGMT if !WIFI_NRF70

config BOARD_HAS_INTERNET # Invisible because it has no prompt (no string after bool)
    bool
    select NET_CONNECTION_MANAGER
    select NETWORKING
    select NET_LOG # Network debug config
    select NET_L2_ETHERNET # Enable Ethernet (required for WiFi)
    select NET_IPV4
    select NET_IPV6
    select NET_SOCKETS
    select NET_TCP
    select NET_UDP
    select NET_DHCPV4 # Get IPv4 address from DHCP
    select NET_DHCPV6 # Get IPv6 address from DHCP
    select DNS_RESOLVER # Enable DNS resolver
    select NET_HOSTNAME_ENABLE
    select NET_HOSTNAME_UNIQUE
    select SNTP
    select POSIX_API
    select ENTROPY_ESP32_RNG if SOC_SERIES_ESP32S3
    select ENTROPY_MCUX_TRNG if SOC_SERIES_RW6XX
    # Entropy on nRF5340 is only available natively on cpunet but not cpu app
    # In cpuapp you have to use HCI to get random data which means selecting ENTROPY_BT_HCI
    # which requires BT_HCI_HOST or BT either of which bring in the whole Bluetooth stack!
    select TEST_RANDOM_GENERATOR if SOC_NRF5340_CPUAPP
    select ENTROPY_NRF5_RNG if SOC_SERIES_NRF54X

if BOARD_HAS_WIFI
config WIFI_SCAN_NETWORKS
    bool "Whether to scan WiFi networks"
    default n

# TODO: find a way to not have WIFI credentials hard coded otherwise what is the point og OTAs

config WIFI_SSID
    string "Wi-Fi SSID"
    help
      "The SSID of the Wi-Fi network to connect to."
    default "eduroam"

config WIFI_PSK
    string "Wi-Fi PSK"
    depends on !WIFI_ENTERPRISE
    help
      "Pre-shared key (a.k.a. Passphrase) for Personal networks."

config WIFI_ENTERPRISE
    bool "Enable WPA Enterprise Authentication"
    default n
    select WIFI_NM_WPA_SUPPLICANT
    select WIFI_NM_WPA_SUPPLICANT_CRYPTO_ENTERPRISE

config WIFI_ENTERPRISE_ANON_ID
    string "Enterprise Identity (anonymous)"
    depends on WIFI_ENTERPRISE
    default "anonymous"

config WIFI_ENTERPRISE_IDENTITY
    string "Enterprise Identity (Username)"
    depends on WIFI_ENTERPRISE

config WIFI_ENTERPRISE_PASSWORD
    string "Enterprise Password"
    depends on WIFI_ENTERPRISE

endif # BOARD_HAS_WIFI

source "Kconfig.zephyr"
